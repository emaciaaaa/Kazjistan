<!DOCTYPE html>
<html>
<head>
  <title>Live Results</title>
  <style>
    .seat { background-color: #e6f7ff; padding: 10px; margin: 5px; border-radius: 5px }
    .eliminated { opacity: 0.5 }
  </style>
</head>
<body>
  <h1>STV Results (9 Seats)</h1>
  <div id="results"></div>
  
  <script>
    const RESULTS_URL = "YOUR_SCRIPT_URL?action=getResults";
    
    async function loadResults() {
      try {
        const response = await fetch(RESULTS_URL);
        const data = await response.json();
        
        let html = `
          <h3>Quota: ${data.quota} votes</h3>
          <h3>Rounds:</h3>
        `;
        
        data.rounds.forEach(round => {
          html += `<div class="round">
            <h4>Round ${round.number}</h4>
            ${round.elected.map(c => `<div class="seat">✅ Elected: ${c}</div>`).join('')}
            ${round.eliminated.map(c => `<div class="eliminated">❌ Eliminated: ${c}</div>`).join('')}
          </div>`;
        });
        
        document.getElementById("results").innerHTML = html;
      } catch (error) {
        console.error("Error loading results:", error);
      }
    }
    
    // Refresh every 30 seconds
    loadResults();
    setInterval(loadResults, 30000);
  </script>
</body>
</html>
